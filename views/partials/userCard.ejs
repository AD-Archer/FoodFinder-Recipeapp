<div class="col">
    <div class="card h-100" style="cursor: pointer;" onclick="goToUserProfile('<%= user.username %>', event)">
        <div class="card-body text-center">
            <% if (user.profileImage) { %>
                <img src="<%= user.profileImage %>" class="rounded-circle mb-3" width="80" height="80">
            <% } else { %>
                <div class="bg-secondary rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
                    <i class="bi bi-person-fill text-white" style="font-size: 2.5rem;"></i>
                </div>
            <% } %>
            <h5 class="card-title mb-1"><%= user.username %></h5>
            <p class="text-muted small mb-2"><%= user.recipeCount || 0 %> recipes</p>
            <% if (locals.user && locals.user.id !== user.id) { %>
                <button 
                    class="btn btn-sm <%= user.isFollowing ? 'btn-secondary' : 'btn-primary' %>"
                    onclick="toggleFollow('<%= user.id %>', this, event)"
                    data-following="<%= user.isFollowing %>">
                    <i class="bi bi-person<%= user.isFollowing ? '-check' : '-plus' %>"></i>
                    <%= user.isFollowing ? 'Following' : 'Follow' %>
                </button>
            <% } %>
        </div>
    </div>
</div> 